# OpenMNGLab documentation

The documentation uses Sphinx with `sphinx apidoc` to automatically generate all sources. Sphinx source files are contained in `./source` while generated output is in `./build`.
Files generated by `apidoc` are stored in `source/apidoc` and are excluded from git.
To avoid possible conflicts with your local installation, you should run this in the Poetry environment and install the docs dependencies by running

```shell
poetry install --with=docs
```

The project separates Sphinx source and build directories into `docs/build` and `docs/source` respectively.

## Building with make

⚠ *It is strongly recommended to run the make file from within `poetry shell` to avoid missing dependencies and conflicts with the global environment* ⚠
To build the documentation using the make file run `make $target` where `$target` can be any build target supported by Sphinx (use `make help` to get a complete list of supported targets).

## Building manually

To build the documentation without make, first run Sphinx apidoc to generate the source files and then use the build command to build your target. Replace `$target` with the target you want to build (i.e. `html`). *When executing from inside the poetry environment, strip the `poetry run` part from the following commands.* 

```shell
poetry run sphinx-apidoc -o "source/apidoc" "../openmnglab"
poetry run sphinx-build $target source build
```